<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:sec="http://www.springframework.org/security/tags"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <h:head>
        <h:outputStylesheet library="css" name="/estilo.css"/>
        <title>Home Page</title>
    </h:head>
    <h:body>
        <div id="mySidebar" class="sidebar">
            <h:form>
                <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
                <a><h:commandLink action="#{clienteBean.lista()}">Cliente : CRUD</h:commandLink></a>
                <a><h:commandLink action="#{locadoraBean.lista()}">Locadora : CRUD</h:commandLink></a>
                <a><h:commandLink action="#{locacaoBean.lista(request.getUserPrincipal().getName().toString())}">Locacao : CRUD</h:commandLink></a>
            </h:form>
        </div>

        <div id="main">
            <button class="openbtn" onclick="openNav()">&#9776; Menu</button>
            <center>
                <h1>Bem-vindo</h1>
                <p>Desenvolvimento Web - Trabalho 2</p>

                <h2>Listagem de locadora por cidade:</h2><br></br>

                <h:form id="form" class="form-horizontal">
                    <div class="form-group">
                        <div class="col-sm-4">
                            <p:selectOneMenu id="pesquisa_cidade" value="#{locadoraBean.cidade}">
                                <f:selectItem itemLabel="Selecionar" itemValue="" />
                                <f:selectItems value="#{locadoraBean.locadorasCidades}" />
                            </p:selectOneMenu>
                        </div>
                    </div>
                    <br></br>
                    <div class="form-group">
                        <div class="col-sm-4">
                            <div class="col-sm-2">
                                <h:commandButton value="Pesquisar" action="#{locadoraBean.filtra()}" class="btn btn-success"
                                                 style="width: 80px; background: black"></h:commandButton>
                            </div>
                        </div>
                    </div>
                    <br></br>
                </h:form>

                <h:form>
                    <h:dataTable style="width: 100%"
                                 id="lista_locadoras"
                                 summary="listaLocadoras"
                                 value="#{locadoraBean.locadoras}"
                                 var="locadora">

                        <h:column>
                            <f:facet name="header">Nome</f:facet>
                            <h:outputText id="nomeLocadora" style="color: #cccccc" value="#{locadora.nome}" />
                        </h:column>

                        <h:column>
                            <f:facet name="header">CNPJ</f:facet>
                            <h:outputText id="cnpjLocadora" style="color: #cccccc" value="#{locadora.cnpj}" />
                        </h:column>

                        <h:column>
                            <f:facet name="header">Cidade</f:facet>
                            <h:outputText id="cidadeLocadora" style="color: #cccccc" value="#{locadora.cidade}" />
                        </h:column>

                        <h:column>
                            <f:facet name="header">E-mail</f:facet>
                            <h:outputText id="emailLocadora" style="color: #cccccc" value="#{locadora.email}" />
                        </h:column>

                    </h:dataTable>
                </h:form>

            </center>
        </div>
        <script>
            function openNav() {
                document.getElementById("mySidebar").style.width = "250px";
                document.getElementById("main").style.marginLeft = "250px";
            }

            function closeNav() {
                document.getElementById("mySidebar").style.width = "0";
                document.getElementById("main").style.marginLeft = "0";
            }
        </script>
    </h:body>
</html>